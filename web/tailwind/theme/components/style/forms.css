form,
fieldset {
    .field {
        @apply mt-1
    }

    /* Reserve space for single line form validation messages */
    .field.field-reserved {
        @apply mb-7
    }

    .field.field-reserved ul:last-of-type {
        @apply -mb-6 pb-1 /* The sum has to match the value set above for field.field-reserved */
    }

    .field.field-reserved ul {
        @apply text-sm
    }

    label {
        @apply mb-2 block text-secondary-darker
    }

    .field.choice {
        @apply flex items-center
    }

    .field.choice input {
        @apply mr-4
    }

    .field.choice label {
        @apply mb-0
    }

    .field.field-error .messages {
        @apply text-red-500;
        max-width: fit-content;
    }

    legend {
        @apply text-primary text-xl mb-3
    }

    legend + br {
        @apply hidden
    }
}

fieldset ~ fieldset {
    @apply mt-8
}

:is(
    .required,
    .field-reserved
):has(
    :is(
        input,
        select,
        textarea
    )[required]
) label:after {
    content: '';
    background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAzMiAzMicgZmlsbD0nI2RjMjYyNic+PHBhdGggZD0nbTAgMTQgMi03IDEyIDUtMS0xMmg3bC0xIDEyIDExLTUgMiA3LTEyIDMgOSA5LTYgNC03LTEwLTYgMTAtNi00IDgtOS0xMi0zJy8+PC9zdmc+") no-repeat;
    @apply w-1.5 h-1.5 inline-block pl-1.5 relative -top-1.5
}
